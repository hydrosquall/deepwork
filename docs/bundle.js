!function(){var t={296:function(t,i,e){var s=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,r=parseInt,c="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g,h="object"==typeof self&&self&&self.Object===Object&&self,d=c||h||Function("return this")(),l=Object.prototype.toString,p=Math.max,u=Math.min,g=function(){return d.Date.now()};function m(t){var i=typeof t;return!!t&&("object"==i||"function"==i)}function f(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return NaN;if(m(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=m(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var e=o.test(t);return e||a.test(t)?r(t.slice(2),e?2:8):n.test(t)?NaN:+t}t.exports=function(t,i,e){var s,n,o,a,r,c,h=0,d=!1,l=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(i){var e=s,o=n;return s=n=void 0,h=i,a=t.apply(o,e)}function b(t){return h=t,r=setTimeout($,i),d?v(t):a}function _(t){var e=t-c;return void 0===c||e>=i||e<0||l&&t-h>=o}function $(){var t=g();if(_(t))return x(t);r=setTimeout($,function(t){var e=i-(t-c);return l?u(e,o-(t-h)):e}(t))}function x(t){return r=void 0,y&&s?v(t):(s=n=void 0,a)}function w(){var t=g(),e=_(t);if(s=arguments,n=this,c=t,e){if(void 0===r)return b(c);if(l)return r=setTimeout($,i),v(c)}return void 0===r&&(r=setTimeout($,i)),a}return i=f(i)||0,m(e)&&(d=!!e.leading,o=(l="maxWait"in e)?p(f(e.maxWait)||0,i):o,y="trailing"in e?!!e.trailing:y),w.cancel=function(){void 0!==r&&clearTimeout(r),h=0,s=c=n=r=void 0},w.flush=function(){return void 0===r?a:x(g())},w}}},i={};function e(s){var n=i[s];if(void 0!==n)return n.exports;var o=i[s]={exports:{}};return t[s](o,o.exports,e),o.exports}e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},e.d=function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},function(){"use strict";var t=e(296),i=e.n(t);const s={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>s.android()||s.blackberry()||s.ios()||s.opera()||s.windows()};var n=s;d3.select("body");var o=function(){console.log("Make something!")},a=function(){};const r=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womenâ€™s Pockets are Inferior"}];let c=null;function h(t){if(void 0!==t)return`\n\t\t<a class='footer-recirc__article' href='https://pudding.cool/${t.url}' target='_blank' rel='noopener'>\n\t\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${t.image}.jpg' alt='${t.hed}'>\n\t\t\t<p class='article__headline'>${t.hed}</p>\n\t\t</a>\n\t\t`}var d=function(){!function(t){const i=new XMLHttpRequest,e=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`;i.open("GET",e,!0),i.onload=()=>{if(i.status>=200&&i.status<400){const e=JSON.parse(i.responseText);t(e)}else t(r)},i.onerror=()=>t(r),i.send()}((t=>{c=t,function(){const t=window.location.href,i=c.find((i=>t.includes(i.url))),e=i?i.topic:"culture",s=c.filter((i=>!t.includes(i.url))),n=s.filter((t=>t.topic!==e)),o=s.filter((t=>t.topic===e)),a=[];a.push(...n.slice(0,2)),a.push(o[0]),a.push(o[Math.ceil(Math.random()*(o.length-1))]);const r=a.map(h).join("");d3.select(".pudding-footer .footer-recirc__articles").html(r)}()}))};class l{constructor(t,i,e,s,n){this.id1=d3.select(t),this.id2=d3.select(i),this.inf1=e,this.inf2=s,this.content=d3.select(n),this.data=null,this.picIndex=[5,9,1],this.init()}getTransition(){return this.content.transition().duration(750)}changePic(t,i,e){this.picIndex=[t,i,e],this.content.selectAll(".social-icon").select("img").attr("src",`assets/images/morphs/morphing_0${this.picIndex[0]}_0${this.picIndex[1]}.jpg`).style("margin-left",this.picIndex[2]+"%")}reqData(t,i,e){fetch(`assets/data/tweets/${t}_${i}_tweets.csv`).then((t=>t.ok?t.text():null)).then((s=>{if(null===s)e?this.reqData(i,t,!1):console.log(`Data missing for ${t} and ${i}`);else{const t=d3.csvParse(s);this.content.selectAll("div.deepwork-social").data(t,(t=>t.tweets)).join((t=>t.append("div").attr("class","deepwork-social fade-in").html((t=>`<div class="social-icon">\n\t\t\t\t\t\t\t\t\t<img inline src='assets/images/morphs/morphing_0${this.picIndex[0]}_0${this.picIndex[1]}.jpg' style='margin-left: ${this.picIndex[2]}%'>\n\t\t\t\t\t\t\t \t</div>\n\t\t\t\t\t\t\t \t<div class="social-content">\n\t\t\t\t\t\t\t \t\t<p>Your Hot Takes</p>\n\t\t\t\t\t\t\t\t\t<p>${t.tweets}</p>\n\t\t\t\t\t\t\t\t\t<div class="impact-icons">\n\t\t\t\t\t\t\t\t\t\t<img inline src='assets/images/svgs/thumbs-up.svg'>\n\t\t\t\t\t\t\t\t\t\t<span>${parseInt(100*Math.random())}</span>\n\t\t\t\t\t\t\t\t\t\t<img inline src='assets/images/svgs/repeat.svg'>\n\t\t\t\t\t\t\t\t\t\t<span>${parseInt(100*Math.random())}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>`)).style("margin-left","-500px").call((t=>t.transition(this.getTransition()).delay(((t,i)=>100*i)).style("margin-left","0px")))))}}))}setOptions(t,i){t.selectAll("option").property("disabled",!1),t.select(`option[value="${i}"]`).property("disabled",!0)}init(){this.id1.property("value",this.inf1),this.id2.property("value",this.inf2),this.setOptions(this.id1,this.inf2),this.setOptions(this.id2,this.inf1),this.reqData(this.inf1,this.inf2,!0),this.id1.on("change",(t=>{this.inf1=t.target.value,this.setOptions(this.id2,this.inf1),this.reqData(this.inf1,this.inf2,!0)})),this.id2.on("change",(t=>{this.inf2=t.target.value,this.setOptions(this.id1,this.inf2),this.reqData(this.inf1,this.inf2,!0)}))}}class p{constructor(t,i,e,s){this.id=d3.select(t),this.position=i,this.effect=s,this.steps=e,this.input=this.id.select("input"),this.grid=this.id.select(".photo-grid"),this.init()}setCallback(t){this.effect=t}init(){this.input.attr("min",0),this.input.attr("max",this.steps-1),this.input.attr("value",this.position),this.grid.selectAll("div").data(Array.apply(null,Array(this.steps))).join((t=>t.append("div").style("background-image",((t,i)=>`url(assets/images/starting_photos/${i+1}.png)`)).style("width",`calc(100%/${this.steps})`).attr("class",((t,i)=>i===this.position?"selected-pic":null)))),this.input.on("change",(t=>{this.position=parseInt(t.target.value),this.grid.selectAll("div").classed("selected-pic",!1),this.grid.select(`div:nth-of-type(${this.position+1})`).classed("selected-pic",!0),null!==this.effect&&this.effect(this.position)}))}}class u{constructor(t,i,e,s,n,o,a,r){this.id=d3.select(t),this.slider=d3.select(i),this.position=e,this.max=s,this.picA=n,this.picB=o,this.vidCallback=a,this.picCallback=r,this.pic=this.id.select(".photo-studio-main"),this.init()}updatePic(){if(this.picA===this.picB||0===this.position?this.pic.style("background-image",`url(assets/images/starting_photos/${this.picA+1}.png)`).style("background-position","0 0"):this.position===this.max?this.pic.style("background-image",`url(assets/images/starting_photos/${this.picB+1}.png)`).style("background-position","0 0"):this.picB>this.picA?this.pic.style("background-image",`url(assets/images/morphs/morphing_0${this.picA+1}_0${this.picB+1}.jpg)`).style("background-position",this.position/this.max*100+"% 0%"):this.pic.style("background-image",`url(assets/images/morphs/morphing_0${this.picB+1}_0${this.picA+1}.jpg)`).style("background-position",(this.max+1-this.position)/this.max*100+"% 0%"),this.picB>this.picA)this.vidCallback(this.picA+1,this.picB+1,this.position),this.picCallback(this.picA+1,this.picB+1,-100*this.position);else if(this.picB===this.picA){const t=0===this.picA?2:1;this.vidCallback(this.picA+1,t,0),this.picCallback(this.picA+1,t,0)}else this.vidCallback(this.picB+1,this.picA+1,this.max+1-this.position),this.picCallback(this.picB+1,this.picA+1,-100*(this.max+1-this.position))}init(){this.slider.attr("value",this.position),this.slider.attr("max",this.max),this.updatePic(),this.slider.on("change",(t=>{this.position=parseInt(t.target.value),this.updatePic()}))}updateVar(t,i){t?this.picA=i:this.picB=i,this.updatePic()}}class g{constructor(t,i){this.id=d3.select(t),this.slider=i,this.pos_beauty=0,this.pos_age=0,this.pos_gender=0,this.pic=this.id.select(".photo-studio-main"),this.init()}updatePic(){const t=d3.scaleLinear().domain([0,6]).range([18,-18]),i=t=>Math.round(t)+".0";this.pic.style("background-image",`url(assets/images/attributes/expressions_0${this.slider.position+1}__age,${i(t(this.pos_age))}_beauty,${i(t(this.pos_beauty))}_gender,${i(t(this.pos_gender))}.jpg`)}init(){this.slider.setCallback((t=>this.updatePic())),this.id.selectAll("input:not(.photo-select)").each(((t,i,e)=>{e[i].id&&(this["pos_"+e[i].id]=parseInt(e[i].value))})).on("change",(t=>{const i=t.target.id;void 0!==this["pos_"+i]&&(this["pos_"+i]=parseInt(t.target.value),this.updatePic())})),this.updatePic()}}class m{constructor(t,i){this.id=d3.select(t),this.body=this.id.select(".demo-body"),this.dropdown=this.id.select("select"),this.refreshButton=this.id.select("button"),this.selectedItem=i,this.tFormat=d3.timeFormat("%b '%y"),this.resumeList={senior:[],intermediate:[],student:[]},d3.json("/assets/data/resume_files.json").then((t=>{this.resumeList=t,this.init()}))}fillInData(t){let i="";const e=t.work.length*(Math.random()*(("student"===this.selectedItem?1:3)-this.selectedItem==="student"?.4:.6)+this.selectedItem==="student"?.4:.6),s=d3.timeMonth.offset(new Date,-12*e),n=d3.scaleTime().domain([0,1]).range([s,new Date]),o=Array.from({length:t.work.length-1},(()=>+n(Math.random()))).sort(((t,i)=>i-t)),a=`<div class="fade-in">\n\t\t\t\t<div>\n\t\t\t\t\t<h3>${t.basics.label}</h3>\n\t\t\t\t\t<p>${t.basics.summary}</p>\n\t\t\t\t</div>\n\t\t\t\t<h3>Experience</h3>`;return i+=a,t.work.map(((e,n)=>{i+=`<div class="work">\n \t\t\t\t\t<div class="pos-grid">\n \t\t\t\t\t\t<div class="years">\n \t\t\t\t\t\t\t<h5>${this.tFormat(n===t.work.length-1?s:o[n])} -</h5>\n \t\t\t\t\t\t\t<h5>${this.tFormat(0===n?new Date:o[n-1])}</h5>\n \t\t\t\t\t\t</div>\n \t\t\t\t\t\t<div>\n \t\t\t\t\t\t\t<h4>${e.position}</h4>\n \t\t\t\t\t\t\t<h5>${e.company}</h5>\n \t\t\t\t\t\t</div>\n \t\t\t\t\t</div>\n \t\t\t\t\t<p>${e.summary}</p>\n \t\t\t\t</div>`})),t.interests&&(i+="<h3>Interests</h3><ul>",t.interests.map((t=>{i+=`<li>${t.name}</li>`})),i+="</ul>"),i+="</div>",i}changeValue(){const t=parseInt(Math.random()*this.resumeList[this.selectedItem].resumes.length);d3.json(`/assets/data/resumes/${this.resumeList[this.selectedItem].resumes[t]}`).then((t=>{const i=this.fillInData(t);this.refreshButton.property("disabled",!1),this.body.html(i),this.body.node().scrollTop=0}))}init(){this.refreshButton.property("disabled",!0),this.refreshButton.on("click",(t=>{this.refreshButton.property("disabled",!0),this.changeValue()})),this.dropdown.select(`option[value=${this.selectedItem}]`).property("selected",!0),this.dropdown.on("change",(t=>{this.refreshButton.property("disabled",!0),this.selectedItem=t.target.value,this.changeValue()})),this.changeValue()}}class f{constructor(t){this.id=d3.select(t),this.picIndex=[5,9,1],this.changeUpcoming=!1,this.upcoming=null,this.vidHolder=this.id.select("#video-holder").style("position","relative").style("aspect-ratio","1 / 1"),this.staticVidHolder=this.vidHolder.append("video").style("position","absolute").style("left",0).style("top",0).property("autoplay",!0).property("muted",!0).property("loop",!0).style("width","100%").style("height","100%").style("z-index",1),this.staticVidSrc=this.staticVidHolder.append("source").attr("src",`/assets/videos/static_morphing_0${this.picIndex[0]}_0${this.picIndex[1]}_${this.picIndex[2]}.mp4`).attr("type","video/mp4"),this.reactionVidHolder=this.vidHolder.append("video").style("position","absolute").style("left",0).style("top",0).property("autoplay",!0).property("muted",!0).style("width","100%").style("height","100%"),this.reactionVidSrc=this.reactionVidHolder.append("source").attr("src","").attr("type","video/mp4"),this.buttons=this.id.selectAll("button"),this.init()}showReaction(){this.reactionVidSrc.attr("src",`/assets/videos/${this.upcoming}_morphing_0${this.picIndex[0]}_0${this.picIndex[1]}_${this.picIndex[2]}.mp4`),this.reactionVidHolder.node().load()}changeVid(t,i,e){this.picIndex=[t,i,e],this.staticVidSrc.attr("src",`/assets/videos/static_morphing_0${this.picIndex[0]}_0${this.picIndex[1]}_${this.picIndex[2]}.mp4`),this.staticVidHolder.node().load()}init(){this.buttons.on("click",(t=>{this.upcoming=t.target.dataset.item,this.changeUpcoming=!0,this.showReaction()})),this.reactionVidHolder.node().addEventListener("canplay",(()=>this.staticVidHolder.style("opacity",0)),!1),this.reactionVidHolder.node().addEventListener("ended",(()=>{this.staticVidHolder.style("opacity",100),this.reactionVidSrc.attr("src","")}),!1)}}const y=d3.select("body");let v=0;function b(){const t=y.node().offsetWidth;v!==t&&(v=t,a())}!function(){(function(t,i=document){return[...i.querySelectorAll(t)]})("[target='_blank']").forEach((t=>t.setAttribute("rel","noopener"))),y.classed("is-mobile",n.any()),window.addEventListener("resize",i()(b,150)),o(),d();const t=new l("#influencerA","#influencerB","15828408","1636590253","#thought-leadership .demo-body"),e=new p("#studioA",6,9,null),s=(new g("#studio-a-container",e),new f("#video-call")),a=new u("#studio-b-container","#pic-mix",5,9,2,8,((t,i,e)=>s.changeVid(t,i,e)),((i,e,s)=>t.changePic(i,e,s)));new p("#studioB1",2,9,(t=>a.updateVar(!0,t))),new p("#studioB2",8,9,(t=>a.updateVar(!1,t))),new m("#resume","intermediate")}()}()}();